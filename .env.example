# ============================================================
# Hytale Server - Environment Configuration
# ============================================================
# LOKAL: Kopiere diese Datei zu .env und passe die Werte an
# PORTAINER: Diese Werte direkt in "Environment Variables" setzen
#            (NICHT als .env Datei hochladen!)
# ============================================================

# ====================
# Host Pfade
# ====================
# Basis-Pfad für alle Server-Daten auf dem Host
# Standard: /opt/hytale
# Beispiele:
#   /mnt/nas/hytale
#   /home/user/games/hytale
#   D:/Games/Hytale (Windows)
HOST_DATA_PATH=/opt/hytale

# ====================
# Stack Name (Container-Namen)
# ====================
# Prefix für alle Container- und Netzwerk-Namen
# Ermöglicht mehrere Instanzen parallel zu betreiben
# Standard: hytale
# Beispiele:
#   hytale-prod   -> Container: hytale-prod, hytale-prod-manager
#   hytale-test   -> Container: hytale-test, hytale-test-manager
STACK_NAME=hytale

# ====================
# Java / RAM
# ====================
JAVA_MIN_RAM=3G
JAVA_MAX_RAM=4G

# ====================
# Docker Resource Limits
# ====================
# WICHTIG: DOCKER_MEMORY_LIMIT muss >= JAVA_MAX_RAM + 1G sein!
# Beispiel: JAVA_MAX_RAM=6G -> DOCKER_MEMORY_LIMIT=8G
DOCKER_MEMORY_LIMIT=8G
DOCKER_CPU_LIMIT=4

# ====================
# Server
# ====================
SERVER_PORT=5520
SERVER_BIND=0.0.0.0
TZ=Europe/Berlin

# ====================
# Backups
# ====================
ENABLE_BACKUP=true
BACKUP_FREQUENCY=30

# ====================
# Auth Mode
# ====================
# authenticated = Online (Standard)
# offline = LAN-only
AUTH_MODE=authenticated

# ============================================================
# SERVER FILES - WÄHLE EINE OPTION:
# ============================================================

# OPTION 1: Eigene Download-URLs
# Lade die Dateien aus deiner Hytale-Installation auf deinen
# NAS/Webserver und gib hier die URLs an
SERVER_JAR_URL=
ASSETS_URL=

# OPTION 2: Offizieller Hytale Downloader
# Download von: https://downloader.hytale.com/hytale-downloader.zip
# Erfordert OAuth2-Login beim ersten Start!
USE_HYTALE_DOWNLOADER=false
HYTALE_PATCHLINE=release

# ====================
# Auto-Update
# ====================
# Bei jedem Container-Neustart nach Updates suchen
# Funktioniert nur mit USE_HYTALE_DOWNLOADER=true
AUTO_UPDATE=false

# ============================================================
# WEB MANAGER - Server Verwaltung
# ============================================================
# Erreichbar unter: http://localhost:18080

# ====================
# Manager Login
# ====================
MANAGER_USERNAME=admin
MANAGER_PASSWORD=dein-sicheres-passwort

# ====================
# Sicherheit
# ====================
# Generiere einen zufälligen String (min. 32 Zeichen)
# z.B.: openssl rand -base64 32
JWT_SECRET=bitte-aendern-sicherer-geheimer-schluessel

# ====================
# Manager Port
# ====================
MANAGER_PORT=18080

# ====================
# Reverse Proxy
# ====================
# Setze auf true, wenn der Manager hinter einem Reverse Proxy
# (nginx, traefik, caddy, etc.) laeuft.
# Erforderlich fuer HTTPS via Domain (z.B. manager.example.com)
# Aktiviert korrekte Verarbeitung von X-Forwarded-* Headers
TRUST_PROXY=false

# ============================================================
# EASYWEBMAP - Live Server Karte (Optional)
# ============================================================
# Mod Download: https://www.curseforge.com/hytale/mods/easywebmap
# Platziere EasyWebMap-xxx.jar in /opt/hytale/mods/
# Die Karte ist unter http://localhost:18081 erreichbar

# ====================
# WebMap Ports
# ====================
WEBMAP_PORT=18081
WEBMAP_WS_PORT=18082
